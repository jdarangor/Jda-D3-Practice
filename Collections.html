<!DOCTYPE html>
<html>
   <head>
      <script type = "text/javascript" src = "https://d3js.org/d3.v4.min.js"></script>
   </head>

   <body>
	<!-- https://www.tutorialspoint.com/d3js/d3js_collections_api.htm -->
      <h3>D3 collection API</h3>
      <script>
		 console.log("-Objects here on");
         var month = {"jan": 1, "Feb": 2, "mar": 3, "apr": 4};
         console.log(d3.keys(month));
         console.log(d3.values(month));
         console.log(d3.entries(month));
		 
		 console.log("-Maps here on");
         var month2 = d3.map([{name: "jan"}, {name: "feb"}], 
            function(d) { return d.name; });
         console.log(month2.get("jan")); // {"name": "jan"}
         console.log(month2.get("apr")); // undefined
         console.log(month2.has("feb")); // true
         
         var map =  d3.map().set("fruit", "mango");
         console.log(map.get("fruit")); // mango
         console.log(map.remove("fruit")); // remove key and return true.
         console.log(map.get("fruit")); // undefined
         console.log(map.size());    // size is 0 because key removed.
         console.log(map.empty());   // true
		 
		 console.log("-Sets here on");
         var fruits =  d3.set().add("mango")
          .add("apple").add("orange");
         console.log(fruits.has("grapes")); // return false.
         console.log(fruits.remove("apple")); //true
         console.log(fruits.size());    // size is 2
         console.log(fruits.empty());   // true
		 
		 console.log("-Nests here on");
		 var data = [
            {
               "color" : "red",
               "key" : 1
            },
            {
               "color" : "green",
               "key" : 2
            },
            {
               "color" : "blue",
               "key" : 75
            }
         ]
         var nest =  d3.nest()
            .key(function (d) { return d.color; })
            .key(function (d) { return d.key; })
			//.rollup(function(v) { return v.map(function(d) { return d.color; }); })
            .entries(data)
		 console.log("nest: ", nest);
         var filter = nest.filter(function (d) { return d.key === 'red' })
         console.log("filter: ", filter);
      </script>
   </body>
</html>